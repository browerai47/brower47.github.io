<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5th Period Java Project: Receipt Generator</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
            position: relative; 
            /* overflow: hidden; Removed this line to allow scrolling */
            min-height: 100vh; /* Changed from 10vh to 100vh to ensure the page can scroll */
        }
        .container {
            max-width: 900px;
            margin: auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }
        pre {
            background-color: #eee;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border: 1px solid #ccc;
        }
        code {
            font-family: monospace;
            line-height: 1.4;
        }
        h1, h2 {
            color: #0056b3;
        }
        .btn-group {
            margin-bottom: 20px;
        }
        .btn {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 5px;
            text-decoration: none;
            display: inline-block;
        }
        .btn-green { background-color: #28a745; }
        .btn-info { background-color: #17a2b8; }
        .btn-crazy { background-color: #ff5733; }
        .btn:hover {
            opacity: 0.9;
        }
        #datetime-output {
            margin-top: 15px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 4px;
        }
        .monkey {
            position: absolute;
            font-size: 40px;
            transition: all 3s linear; 
            z-index: 1;
            pointer-events: none;
        }
        /* ADDED CSS RULE: Initially hides the logic explanation */
        .hidden-logic {
            display: none; 
            margin-top: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>5th Period Java Project: Receipt Generator</h1>
        <p>This page features the source code for our working console application that generates a receipt based on user input.</p>

        <div class="btn-group">
            <button class="btn btn-green" onclick="copyContent('code-source-Pong')">Copy Pong Code</button>
            <a href = "Pong.jar" download><button class="btn btn-green" >Download</button></a>
            <button class="btn btn-info" onclick="toggleLogicVisibility()">Toggle Logic Display</button>
            <button class="btn btn-crazy" onclick="goCrazyMonkeys()">Go Crazy! üêí</button>
        </div>
        
        <div id="datetime-output">
            <!-- Date will appear here via JavaScript -->
        </div>

        <h2>Java Source Code: <code>Receipt.java</code></h2>
        <pre>
<code id="code-source-Pong">
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.util.Random;
import java.io.File;
import javax.sound.sampled.*;
import java.net.URL;
import java.io.IOException;

public class Pong extends JPanel implements ActionListener, KeyListener {

    // Window settings
    public static final int WIDTH = 800;
    public static final int HEIGHT = 600;
    private int playerScore = 0;
    private int aiScore = 0;

    // Color variables
    private Color ballColor = Color.WHITE;
    private Color playerColor = Color.CYAN;
    private Color aiColor = Color.MAGENTA;
    private Color bgColor = Color.BLACK;
    private Random random = new Random();
    
    // Media Definitions
    private final String SCORE_SOUND_URL = "drive.google.com";
    // Define the filename to open. The OS will use the default associated application.
    private final String MP4_FILE_NAME = "Untitled design.mp4"; 

    // The Game Loop Timer
    private Timer timer;
    // Game Objects
    private Rectangle player;
    private Rectangle opponent;
    private Rectangle ball;

    // Movement speeds
    private int ballSpeedX = 7;
    private int ballSpeedY = 7;
    private int playerSpeed = 0;
    private int opponentSpeed = 5;

    public Pong() {
        // Set up the window properties
        this.setPreferredSize(new Dimension(WIDTH, HEIGHT));
        this.setBackground(bgColor);
        this.setFocusable(true);
        this.addKeyListener(this);

        // Initialize Rectangles
        player = new Rectangle(10, HEIGHT/2 - 50, 15, 100);
        opponent = new Rectangle(WIDTH - 25, HEIGHT/2 - 50, 15, 100);
        ball = new Rectangle(WIDTH/2 - 7, HEIGHT/2 - 7, 15, 15);

        // Start the game loop (running every 16ms, approx 60 FPS)
        timer = new Timer(16, this);
        timer.start();
    }

    // Method to play a sound file from a URL (Original code)
// Example of how to modify the sound method to use a reliable local WAV file:

    public void playSoundFromUrl() {
        try {
            // Use a local file named "score.wav" located in the project directory
            File soundFile = new File("YESCHEF.wav");
            if (!soundFile.exists()) {
                System.err.println("Sound file not found: YESCHEF.wav");
                return;
            }
            
            AudioInputStream audioIn = AudioSystem.getAudioInputStream(soundFile);
            Clip clip = AudioSystem.getClip();
            clip.open(audioIn);
            clip.start();
            
        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {
            e.printStackTrace();
            System.err.println("Failed to play sound from local file.");
        }
    }

    public void playSoundFromLose() {
        try {
            // Use a local file named "score.wav" located in the project directory
            File soundFile = new File("SORRYCHEF.wav");
            if (!soundFile.exists()) {
                System.err.println("Sound file not found: SORRYCHEF.wav");
                return;
            }
            
            AudioInputStream audioIn = AudioSystem.getAudioInputStream(soundFile);
            Clip clip = AudioSystem.getClip();
            clip.open(audioIn);
            clip.start();
            
        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {
            e.printStackTrace();
            System.err.println("Failed to play sound from local file.");
        }
    }
    @Override
    public void actionPerformed(ActionEvent e) {
        update();
        repaint();
    }

    public void update() {
        // ... (existing update logic) ...
        ball.x += ballSpeedX;
        ball.y += ballSpeedY;
        
        if (ball.y < 0 || ball.y + ball.height > HEIGHT) { ballSpeedY = -ballSpeedY; }
        // ... (paddle movement/collision code omitted for brevity but remains the same) ...
        player.y += playerSpeed;
        if (player.y < 0) player.y = 0;
        if (player.y + player.height > HEIGHT) player.y = HEIGHT - player.height;
        if (opponent.getCenterY() < ball.getCenterY()) { opponent.y += opponentSpeed; }
        if (opponent.getCenterY() > ball.getCenterY()) { opponent.y -= opponentSpeed; }

        if (ball.intersects(player)) { ballSpeedX = -ballSpeedX; ballColor = new Color(random.nextInt(256), random.nextInt(256), random.nextInt(256)); }
        if (ball.intersects(opponent)) { ballSpeedX = -ballSpeedX; ballColor = new Color(random.nextInt(256), random.nextInt(256), random.nextInt(256)); }


        // Player Scored - Launch external video
        if (ball.x > WIDTH) {
            playerScore++;
            playSoundFromUrl(); 

            bgColor = Color.DARK_GRAY;
            resetBall();
        }
        // AI Scored
        if (ball.x < 0) {
            aiScore++;
            playSoundFromLose();
            bgColor = Color.DARK_GRAY;
            resetBall();
        }
    }
    
    // ... (rest of the methods: resetBall, paintComponent, keyTyped, keyPressed, keyReleased) ...
    private void resetBall() {
        ball.x = WIDTH / 2;
        ball.y = HEIGHT / 2;
        ballSpeedX = -ballSpeedX;
        bgColor = Color.BLACK;
    }

    @Override
    public void paintComponent(Graphics g) {
        this.setBackground(bgColor); 
        super.paintComponent(g);

        g.setColor(playerColor);
        g.fillRect(player.x, player.y, player.width, player.height);

        g.setColor(aiColor);
        g.fillRect(opponent.x, opponent.y, opponent.width, opponent.height);
        
        g.setColor(ballColor);
        g.fillOval(ball.x, ball.y, ball.width, ball.height);

        g.setColor(Color.RED);
        g.drawLine(WIDTH/2, 0, WIDTH/2, HEIGHT);
        g.setFont(new Font("Monospaced", Font.BOLD, 50));
        g.drawString(String.valueOf(playerScore), WIDTH/2 - 80, 50);
        g.drawString(String.valueOf(aiScore), WIDTH/2 + 50, 50);
    }

    @Override
    public void keyTyped(KeyEvent e) {}
    @Override
    public void keyPressed(KeyEvent e) {
        if (e.getKeyCode() == KeyEvent.VK_UP) {
            playerSpeed = -6;
        }
        if (e.getKeyCode() == KeyEvent.VK_DOWN) {
            playerSpeed = 6;
        }
        if (e.getKeyCode() == KeyEvent.VK_UP) {
            playerColor = Color.YELLOW; 
        }
    }
    @Override
    public void keyReleased(KeyEvent e) {
        if (e.getKeyCode() == KeyEvent.VK_DOWN) {
            playerSpeed = 0;
            playerColor = Color.CYAN;
        }
    }

    // --- Main Method to Run the Game ---
    public static void main(String[] args) {
        JFrame frame = new JFrame("Retro Pong");
        Pong game = new Pong();
        frame.add(game);
        frame.pack();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
        frame.setResizable(false);
    }
}

</code>
        </pre>

        <h2>Java Source Code: <code>ReceiptPrinter.java</code> and <code>Maker.java</code></h2>
        <pre>
<code id="code-source-maker">

</code>
        </pre>

        <!-- ADDED DIV FOR LOGIC EXPLANATION -->
        <div class="hidden-logic" id="logic-explanation">
            <h3>Project Logic Explanation</h3>
            <p>The Java program uses standard console I/O (`java.util.Scanner`) to prompt a user for quantities of four menu items. It then calculates and prints a formatted receipt including itemized costs, subtotals, tax (8%), and a final total.</p>
            <ul>
                <li>The `Receipt` class contains the `main` method which drives user interaction.</li>
                <li>The `Maker` class acts as a data structure to hold the item name, price, and quantity.</li>
                <li>The `ReceiptPrinter` class handles the calculation logic and formatting the final output string using its `toString()` override.</li>
            </ul>
        </div>
    </div>

    <!-- The JavaScript to power the buttons and effects -->
    <script>
        // 1. Function to display current date and time on page load
        function displayCurrentDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' };
            const formattedDateTime = now.toLocaleDateString(undefined, options);
            document.getElementById('datetime-output').textContent = `Page last loaded: ${formattedDateTime}`;
        }

        // 2. Function to copy code content to clipboard
        function copyContent(elementId) {
            const copyText = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(copyText).then(() => {
                alert("Source code copied to clipboard!");
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }

        // 3. Function to toggle visibility of logic explanation
        function toggleLogicVisibility() {
            const logicDiv = document.getElementById('logic-explanation');
            // Toggles the 'display: none' CSS rule
            if (logicDiv.style.display === 'none' || logicDiv.style.display === '') {
                logicDiv.style.display = 'block';
            } else {
                logicDiv.style.display = 'none';
            }
        }

        // 4. Function for the "Go Crazy! üêí" effect
        function goCrazyMonkeys() {
            const body = document.body;
            const container = document.querySelector('.container');
            const containerRect = container.getBoundingClientRect();
            const monkeyCount = 10;
            const emoji = ['üêí', 'üêµ', 'üçå', 'ü¶ç', 'üå≥'];

            for (let i = 0; i < monkeyCount; i++) {
                const monkey = document.createElement('div');
                monkey.classList.add('monkey');
                monkey.textContent = emoji[Math.floor(Math.random() * emoji.length)];
                
                // Position monkeys randomly near the container
                // We use window.scrollY here so they respect the scroll position
                monkey.style.top = `${window.scrollY + containerRect.top + Math.random() * containerRect.height}px`;
                monkey.style.left = `${containerRect.left + Math.random() * containerRect.width}px`;
                
                body.appendChild(monkey);

                // Animate them flying off screen
                setTimeout(() => {
                    monkey.style.transform = `translate(${Math.random() * window.innerWidth * 2 - window.innerWidth}px, ${Math.random() * window.innerHeight * 2 - window.innerHeight}px) rotate(${Math.random() * 720}deg)`;
                    monkey.style.opacity = '0';
                }, 100);

                // Remove them after animation finishes (3s transition + a little buffer)
                setTimeout(() => {
                    monkey.remove();
                }, 3100);
            }
        }

        // Run this function when the page loads
        document.addEventListener('DOMContentLoaded', displayCurrentDateTime);

    </script>
</body>
</html>
